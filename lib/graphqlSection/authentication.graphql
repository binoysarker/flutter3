mutation SignIn($emailAddress: String!, $password: String!, $rememberMe: Boolean!) {
    login(username: $emailAddress, password: $password, rememberMe: $rememberMe) {
        ... on CurrentUser {
            id
            __typename
            channels {
                token
                permissions
                code
                id
                __typename
            }
        }
        ...ErrorResult
        __typename
    }
}

fragment ErrorResult on ErrorResult {
    errorCode
    message
    __typename
}

mutation Register($input: RegisterCustomerInput!) {
    registerCustomerAccount(input: $input) {
        ... on Success {
            success
            __typename
        }

        ...ErrorResult
        __typename
    }
}

mutation VerifyCustomerAccount($token: String!, $password: String){
    verifyCustomerAccount(
        password: $password,
        token: $token
    ){
        ... on CurrentUser {
            id
            __typename
        }
        ... on VerificationTokenInvalidError{
            errorCode
            message
        }
        ... on VerificationTokenExpiredError{
            errorCode
            message
        }
        ...ErrorResult
        __typename
    }
}

query GetActiveCustomer{
    activeCustomer {
        ... on Customer{
            emailAddress
            firstName
            lastName
            phoneNumber
            orders{
                totalItems
                items {
                    active
                    discounts {
                        amount
                    }

                }
            }
        }
    }
}

query GetCurrentUser{
    me {
        ... on CurrentUser{
            id
            identifier
            channels {
                ... on CurrentUserChannel{
                    id
                    permissions
                    token
                }
            }
        }
    }
}